var pvr_apiService={getActivePolls:async function(n,t){let i={CurrentUrlPath:n,DataTags:t},r=await fetch("/api/pollveriser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return await r.json()},submitAnswer:async function(n){let t=await fetch(`/api/pollveriser?answerId=${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({answerId:n})});return await t.json()},getQuestionAnswers:async function(n){let t=await fetch(`/api/pollveriser?questionId=${n}`,{method:"GET"});return await t.json()}},pvr_renderService={buildAnswerPod:function(n){return`<div class="pvr-poll--question__answer-pod pvr-poll--question__answer-pod--no-answer" data-answer-id="${n.id}">${n.text}</div>`},buildQuestionContainer:function(n){let i="";for(var t=0;t<n.answers.length;t++)i+=pvr_renderService.buildAnswerPod(n.answers[t]);return`<div class="pvr-poll--question" data-question-id="${n.id}">
            <div class="pvr-poll--question--text">${n.text}</div>
            <div class="pvr-poll--question--answers">${i}</div>
            </div>`},buildPoll:function(n){let i="";for(var t=0;t<n.questions.length;t++)i+=pvr_renderService.buildQuestionContainer(n.questions[t]);return`<div class="pvr-poll pvr-poll__bottom-right" data-poll-id="${n.id}">
            <div class="pvr-poll--title">${n.name}</div>
            <div class="pvr-poll--questions">${i}</div>
            </div>`},applyAnswerData:function(n,t,i){let u=n.querySelectorAll(".pvr-poll--question__answer-pod")||[];for(var r=0;r<u.length;r++){let e=u[r].attributes["data-answer-id"].value,f=t.answerCounts[e],n=document.createElement("div");n.classList.add("pvr-poll--question__answer-pod--result");e==i&&n.classList.add("pvr-poll--question__answer-pod--result__chosen");u[r].classList.remove("pvr-poll--question__answer-pod--no-answer");u[r].appendChild(n);n.style.setProperty("--pvr-answer-width","0");n.style.setProperty("--pvr-hover-width",`${f.percentageChosen}%`);let o=function(){n.style.setProperty("--pvr-answer-width",`${f.percentageChosen}%`)},s=function(){n.style.setProperty("--pvr-answer-data",`"${f.timesChosen} votes"`);n.classList.add("pvr-poll--question__answer-pod--result__complete")};setTimeout(o,100);setTimeout(s,1100)}}},pvr_clientStoreService={__CONST_storageKey:"pvr_data",__setLocalStorage:function(n){localStorage.setItem(this.__CONST_storageKey,JSON.stringify(n))},__getLocalStorage:function(){return JSON.parse(localStorage.getItem(this.__CONST_storageKey)||"{}")},getClientPollVote:function(n){var t=this.__getLocalStorage();return t[n]},setClientPollVote:function(n,t){var i=this.__getLocalStorage();i[n]=t;this.__setLocalStorage(i)},clearClientPollVote:function(n){var t=this.__getLocalStorage();t[n]=!1;this.__setLocalStorage(t)}};